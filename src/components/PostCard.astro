---
interface Props {
  title: string;
  description: string;
  slug: string;
  pubDate: Date;
  heroImage?: string;
  category?: string;
  readingTime?: number;
}

const { title, description, slug, pubDate, heroImage, category, readingTime } = Astro.props;

const formattedDate = pubDate.toLocaleDateString('pl-PL', {
  year: 'numeric',
  month: 'short',
  day: 'numeric',
});
---

<article class="post-card animate-in">
  {heroImage && (
    <div class="post-card-image">
      <a href={`/blog/${slug}/`} tabindex="-1" aria-hidden="true">
        <img src={heroImage} alt="" width="400" height="250" loading="lazy" decoding="async" />
      </a>
    </div>
  )}
  <div class="post-card-body">
    <div class="post-card-meta">
      {category && <span class="post-card-category">{category}</span>}
      {category && <span>·</span>}
      <time datetime={pubDate.toISOString()}>{formattedDate}</time>
    </div>
    <h3 class="post-card-title">
      <a href={`/blog/${slug}/`}>{title}</a>
    </h3>
    <p class="post-card-excerpt">{description}</p>
    <div class="post-card-footer">
      <a href={`/blog/${slug}/`} class="read-more">
        Czytaj dalej <span aria-hidden="true">→</span>
      </a>
      {readingTime && <span class="reading-time">{readingTime} min</span>}
    </div>
  </div>
</article>